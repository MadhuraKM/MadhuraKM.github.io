describe('Unit: contcatsController', function(){

	// Load the module with contcatsController
	beforeEach(module('contactManager'));

	var contcatsCtrl, scope, $location, mockService;

	//inject the $controller and $rootScope in the beforeEach block
	beforeEach(inject(function($controller, $rootScope, _$location_, generalService){

		//create a new scope
		scope = $rootScope.$new;
		$location = _$location_;
		mockService = generalService;

		spyOn(mockService,'setSelectedContacts').and.callThrough();

		//create the controller
		contcatsCtrl = $controller('contactsController',{
			$scope : scope
		});

	}));

	it('$scope.addContact should redirect to add contact screen',
		function(){
			scope.addContact();			
			expect($location.path()).toEqual('/add-contact');
	});	

	it('$scope.editContact should redirect to edit contact screen and services setSelectedContacts to be called',
		function(){
			var contact = {
	            "name": 'Madhura',
	            "phone": '98989999989',
	            "email": 'test@test.com',
	            "image": ''
	        };
			scope.editContact(contact);
			expect(mockService.setSelectedContacts).toHaveBeenCalled();
			expect($location.path()).toEqual('/edit-contact');

	});	

	it('$scope.deleteContact should delete a contact',
		function(){
			jasmine.getFixtures().fixturesPath = "base/test/mock/json/";
	        var f = readFixtures("contacts.json");
	        json = JSON.parse(f);

	        expect(json).toBeDefined();

	        scope.contacts = json.contacts;

			var contactsLength = scope.contacts.length;
			var contact = {
			            "name": "John karma test",
			            "phone": 98989898989,
			            "email": "john@test.com",
			            "image": "data:image/jpeg;base64,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"
			        };
			scope.deleteContact(contact);
			expect(contactsLength).toEqual(scope.contacts.length + 1);
	});

});

describe('Unit: addEditController', function(){

	// Load the module with addEditController
	beforeEach(module('contactManager'));

	var addEditCtrl, scope, rootScope, $location, generalService;

	//mock generalService which is dependency for addEditController
	beforeEach(function() {
		var mockService = {};
		module('contactManager', function($provide) {
		$provide.value('generalService', mockService);
		});

		inject(function($q) {

			jasmine.getFixtures().fixturesPath = "base/test/mock/json/";
	        var f = readFixtures("contacts.json");
	        json = JSON.parse(f);

	        expect(json).toBeDefined();

			contacts = json.contacts;
			selectedContact = '';

			//Returns the Contacts data
			mockService.getContacts = function(){
				return contacts;
			},

			//add ne contact
			mockService.addContacts = function(contact){
				contacts.push(contact);

				return contacts;
			},

			//Edit an existing contact
			mockService.editContact = function(contact){
				contacts[contacts.indexOf(selectedContact)] = contact;

				return contacts;
			},

			mockService.setSelectedContacts =  function(contact){
				selectedContact = contact;
			},

			mockService.getSelectedContacts = function(){
				return selectedContact;
			}
		});

	});

	//inject the $controller and $rootScope in the beforeEach block
	beforeEach(inject(function($controller, $rootScope, _$location_, _generalService_){

		//create a new scope
		scope = $rootScope.$new;
		rootScope = $rootScope;
		$location = _$location_;
		generalService = _generalService_;
		$rootScope = $rootScope;

		scope.contactForm = {
			$valid: true,
			$setPristine: function() {}
		};

		//create the controller
		addEditCtrl = $controller('addEditController',{
			$scope : scope,
			$rootScope : rootScope, 
			generalService : generalService
		});

	}));

	describe('$scope.save',function(){

		it('should add the contact',function(){
			var contactsLength = generalService.getContacts().length;
			rootScope.operation = 'Add';
			var contact = {
	            "name": "Test Edit contact",
	            "phone": 98989898989,
	            "email": "test@karma.com",
	            "image": "data:image/jpeg;base64,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"
	        };
			scope.save();

			expect(contactsLength).toBe(generalService.getContacts().length - 1);
		});	

		it('should Edit the contact',function(){
			var contactsLength = generalService.getContacts().length;

	        generalService.setSelectedContacts(generalService.getContacts()[0]);

			rootScope.operation = 'Edit';
			var contact = {
	            "name": "Test edit contact",
	            "phone": 98989898989,
	            "email": "test@karma.com",
	            "image": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxATEBQTExQVFBQUFBQUFRUUFA8QFBISFBQWFhQYGBQYHCggGBslHBQUITEhJSkrLi4uFx8zODQsNygtLisBCgoKDg0OFBAQFCwkHx8vLSwsLC0sLCwsNSwsNy8sLDQ1LC4rLCwsLCwsLjIsLCwwNy0sLCwsLCwsLCwsLCwsLP/AABEIAOEA4QMBEQACEQEDEQH/xAAcAAEAAgIDAQAAAAAAAAAAAAAAAQcFBgIECAP/xABFEAABAgMEBwQGBwYFBQAAAAABAAIDETEEIWFxBQYSQVGx8QcTIoFCUpGSocEjMmKCosLRFENTcpOyJDOz0vAlVHPD4f/EABoBAQADAQEBAAAAAAAAAAAAAAABBQYEAwL/xAA1EQEAAQIEAwQJBAIDAQAAAAAAAQIDBAURMSFRkRIyYdETQXGBobHB8PEjQlLhM1MiNEMk/9oADAMBAAIRAxEAPwC70CfBAJ3DogE7t6ATLNAJkgTlVAnvKADvKAD7EAGeXNAnPJAnwQCdw6IBO4IBPtQCZZoE5VQJ7ygA7ygAoAM8uaADPJAnwQCdw6IBO4IBPtQTNAQQeCCMB0QKXCqBTNApmgUvNUDE9EDEoFckCuXNArlzQY7TunbNZIe3HiCG2gFXPPBjBe45UQVppvtdikltkgtY31403uIwY0gN8yUGq2jXzSjzfantwY2FDH4WqBxga9aUYZi1RD/MIcQfiaUGyaF7W7UwytMJkZu9zPoogxle12UmqRZermtFktjS6DEm4DxQ3eGIzNnDETGKDM4nogYlAreaIFcuaBXLmgVuCBgOiBS4IFM0CmJKCQJVqglBBO4dEEUuFUCmaBTMoFLzVAxPRAxKBXJArlzQK5c0Gr69a4w7BCAEnx3g93D3AU23yo0fGg3kBRGlNJRrRFMWM8ve7eaAbg0Ua0cAoHUQEBAQfWyWmJCe2JDc5j2mbXNMnNOaC7uzzXpttHcx5NtLRO65sZoq5o3OG9vmLpykbvW80QK5c0CuXNArcEDAdEClwQKZoFMSUCl5qgkDeeiCUEE8KoIpmgUxKBS81QMT0QMSgVyQK5c0CuXNBj9P6Xh2WzxI7/qw2zkLi5xuaxuJJA80HnDS+k4tpjvjRTN7zM8Gj0WtG5oFwUDqICAgICAg+lmtD4b2xIbi17HBzXCrXC8FB6J1L1hbbrIyLcHjwRWj0YrQJ/dMwRgVIztcuaBW4IGA6IFLggUzQKYkoFLzVAxPRBIG8oJmggmWaCKZoFLzVAxPRAxKBXJArlzQK5c0DAIKg7atNbUaFZGnwwx3sQDfEdMMBybM/fQVooBAQEBAQEBBuvZLpkwLeIRP0dpHdkbu8EzDP9zfvoL1wCkMB0QKXBApmgUxJQKXmqBieiBieiCRfeg5TQcSZIIpeaoGJ6IGJQK5IFcuaBXLmgYBAwHRB5n1mt/f220RpzD4zy0/YB2Yf4WtUDGoCAgICAgICDnBjuY5r23OY5r2ng5pDm/EBB6isdpESGx7PqvY14P2XAOHNSPrS4IFM0CmJKBS81QMT0QMT0QK3miCRflzQckHE3XoIxPRAxKBXJArlzQK5c0DAIGA6IPhb4uxCiOFWse72NJQeWmUGSgckBAQEBAQEBAQejdRI21oyyce4YPdGz8lIztM0CmJKBS81QMT0QMT0QK3miBXLmgmc8uaDkg4niUEYlArkgVy5oFcuaBgEDAdEClwQdfSUOcCK0VdDePa0hB5bZQZKByQEBAQEBAQEBB6L1AZs6Lsg3mC13veL5qRn6YkoFLzVAxPRAxPRAreaIFcuaBXLmgmfBBMkEEbygiuSBXLmgVy5oGAQMB0QKXBApmgSliSg8vaVsndWiNC/hxYkP3HlvyUDrICAgICAgICCD/zFB6h0RZBBs8GFvhwocPPYYG/JSO1S81QMT0QMT0QK3miBXLmgVy5oFbhRBM9wQTJBBHsQRXLmgVy5oGAQMB0QKXBApmgUxJQKXmqChu1nRphaSe+XhjsZFHCcth49rJ/eUDTkBAQEBAQEBBnNSNHftGkLPDlMd4Hu/kh+Mzz2ZeaD0dS81UhieiBieiBW80QK5c0CuXNArcKIGA6IJwCCUEETy5oIrlzQMAgYDogUuCBTNApiSgUvNUDE9EGgdsehjFsbbQB4rO6Z49zEkH+whhyBQUooBAQEBAQEBBa3YnoeXfWxwr9BCxEw6IR5hg+65SLUxPRAxPRAreaIFcuaBXLmgVuFEDAdEDAIJF129ByQcTfkgjAIGA6IFLggUzQKYkoFLzVAxPRAxKD52mztiMcx4mx7S1zTRzXCRn5FB5r1k0M+yWqJAdM7B8Dj6cM3sd5iuIKgY1AQEBAQEH3sFjiRorIUMTfEcGNGJ44CpwBQeldA6KZZbNCgNpDYGz9Z1XOzc4k+akd7E9ECt5ogVy5oFcuaBW4UQMB0QMAgUuFUEi7MoJQQeCCMB0QKXBApmgUxJQKXmqBieiBiUCt5ogVy5oNJ7T9VTbIHewmzjwAdkCsWHVzMTvGMxvQUUFAlAQEBAQW/wBkOqvds/bow8cRsoAPownVfLi7d9n+ZSLLxPRAreaIFcuaBXLmgVuFEDAdEDAIFLhVApiSgkCVaoJQQTuHRBFLggUzQKYkoFLzVAxPRAxKBW80QK5c0CuXNAdwCDyo2igSgICAghB6U1PH/T7GT/2sD/SapGXreaIFcuaBXLmgVuFEDAdEDAIFLhVApiSgUvNUEgbyglBBO4IIpmgUxJQKXmqBieiBiUCt5ogVy5oFcuaBgEB3AdEHlNtFA5ICAgIIQelNTxPR1j4fssD/AEmqRl65c0CuXNArcKIGA6IGAQKXCqBTElApeaoGJQSBvPRBM0EE+1BFMSUCl5qgYnogYlAreaIFcuaBXLmgVuCDjGita0kkNaBMucQ0NGJKiaopjWZTTTNU6UxrLlPcP+YqUKi7UNRe7LrZZm+AzdHhtH1DviNA9HiN1aTkFYqBKAgIN67N9Rza3iPHBFmYbgbu/cNw+wDU76cZBd7GCQAEmi4AXCQpdwUjjDitfPZcHAEglpBvBkRdwKiKonaX1VTNO8aOdbhRS+TAdEDAIFLhVApiSgUvNUDEoGJ6IJF96CZoIJlmgil5qgYnogYlAreaIFcuaBXLmgx2ktO2aDdEitBHojxP91syvC7ibVrvVebps4O9e7lE+3aOrVtJ6/H6tnhy+3E+TAeZ8lW3c1/10++fJbWMl9d2r3R5tS0jpKPHM4sRz+AJk0ZNFwVVdvXLvGurVc2cPasxpbp0++a2tCWjbs0F1S6GwnPZE/jNajD19u1RVziGOxVHYvXKeUy7pHmT8V7PBTnaPqAYO1arK2cI+KLCaP8AJO9zB/D4j0cvqhW6gSg3Xs+1FfbXCNGBZZWmv1THIq1p3N4u8hfMgLygQWta1jGhrGgNa0AAAC4ADcFI5RH3E7gCT5KJnSNUxGsxCmLPpGMyIYkN7mOcS4lplOZneKGu9ZKm9XTVNdNWky29di3XTFFVMTENo0Zr7EbJsZgePXZJjvNpuJykrKzmtUf5KdfGFVfyairjaq08J4x13+ba9Hax2SNIMiAOPov8Dp5H63lNWdrGWbvdq48p4Ki9gL9nvUcOccYZWlKrpcZTElApeaoGJQMT0QK3miCRflzQckHE3XoIxPRAxKBW80QYvSOsNkhXPitmPRbN7icQ2nmua7i7NrvVfV12cDfu8aaOHOeEfFrekO0Cd0GF96IZfhb+qr7ubf66Ovks7OSf7K+nnPk1vSGsdrjTDorg31WfRtlw8N58yVX3cZeub1e6OC0tYDD2u7R754sSuZ1+AglBaOokedhYKlrns/ESPg4LSZdV2sPT4awyea0dnE1eOktgpearuVxLeUFY669mHeF0exbLHEkugE7LCeMM0Yfsm7JB0tUOyyIXCLbpNYLxAa4Oc/8Ane0yDcASTxCC2YUJoaGtAaxoAa0ANAAoABQYIOVcuaDG6y2jYskci6UNwni4bI+JC58VX2LNc+DqwVHbxFunxj4cVPrKtmlBCJ2ZHR+nLVB/y4rgPVPjb7rpgeS97WKvW+7Vw6uW9g7F3v0Rr0n4Nk0fr+8f50IO+1DOyfdd+oVhazadq6enkrL2S0726/dPm2TR2tFji0iBrvVifRkYAm4nIlWFrG2Lm1XHx4Ku9l2ItcZo1jnHFmRxPkutxFbzRArlzQTOeXNByQcTxKCMT0QalprXiEwlsFveuHpEyhg83fAYqrxGZ0UT2bcaz8P7XGGyiuuIquz2Y5ev+vvg07SesFqjz24h2fUb4GewV85qqvYu9c71XujhC7sYKxa7tHvnjP37GLXNs6t0oCCEEoCGzfuzOP8ARxmcHtd77ZfkV3lNetNdPKdev4Z7O6NK7dfOJjp+W54nordRgG8oKv7Ru0IscbNY3yeDKLGbI7BFWMPrcXbqC+gY7UHtFex4gW2IXw3HwxnmbobuD3VLDxN4yoFwgzpTjxywQK3CiDWu0KPs2MtHpxGN9hL/AMir8zr7NjTnMef0WmUUdrE68omfp9VZrOtSICbmwgIIQ8Xf0dpi0QT9HEc0D0Z7TPcNy9rWJu2u5V5PC9hbN7/JRH16tv0Rr21xDbQzZ+2yZb95tQMpq1sZpEzpdjTxjZS4jJqo1qszr4Tv1/DcocQPALSC0iYIMw4HgeCtomJjWFJMTTMxMcXOfCilDlJBxI3lBpPaBpwj/DMMpicQiuyaN86nCXFU+Z4nSPRU+vfyXuUYOKv164228/JoSpdmg3SmxuICCEEoCGwg2vs4j7Npe0+lCJ82uHyJVnlVel2qnnHyVGdUa2aauU/NY2J6K/ZlXfa1rVGs7GWeDNjozXOdEFzmsB2ZN4OPHcKXmYCmFAlBaPZDrTGdEFhiTezYc6E6roQZKbMWSpwpQiUi2cB0QaR2mR5CBDHF7z5AAcyqfNquFFPtlfZJRxuVeyGiqlX4m5sICAgICbG4mxu23ULThZEFmefo3nwE+g/gMHc81aZbiexV6KqeE7e3+/mp82wkV0+mpjjG/jH9fL2LFnuCvmaTJB87REa1rnuMmsaXHJomT8FFVUUxMz6n1RTNVUUxvKlrdanRYr4jqvcXHCdBkBIeSyNy5Ndc1zvLcWrcW6KaI2h8V8bPvcQEEIJQENhAQZnU6PsW6CTQks95pA+Ml14Cvs4ijx4OLMaO3hrnhx6LYreaLTsewuterUG3wO7ieFzZmFEA8UN/HFp3jf7CA8/ad0NGskd0GM2ThQiezEbuc07wf/hvUD4aPsMWPFbChML4jzJrRv8A0AqSbggvrUbU+HYIW59oeB3sXcBXYZwaPibzuAkbRgEFa9ocadrDR6ENo83Fzj8C1Z7NKtb0RyhqMno7OHmecz5NYVdutdhAQEBATY3E2N0IOTXEEFpkQQQRuIvBSJmJ1JiJjRcmhrcI0CHEHptBODqOHtBC1ti76W3TXzYnE2fQ3arfKfh6vg7y9Xg1/Xq1bFieKbZbDGMzN34Q5cOY3OxYq8eCxyu328TT4cfv3qsWb2azcQEEIJQENhAQQg+9ijbEWG/1Hsf7rgfkvu3V2K6auUw+LtHboqp5xMdV1i/LmtewpXLmgpzts0mH2mDZxKUFhe43fWim4Twa0H7yDE9k+k+50kxplKO10Gd1zj4mX5tl95QL5wCkKXCqCotaI23bY7q/SFvuAM/KstjKu3frnx+XBssBR2MNbjw168WLXM6xAQEBNjcTY3QgIJQWJ2b2udnfD3siTH8rxPmHK+yq5raqp5T82azq32btNfOPk29WinaR2mx/DAh8XPefugAf3lVGbV6U0U+2fvqvcko1quVeyOv4aGqRoBBCCUBDYQEEICAb1CVzaHj95Z4L/WhsJxOyJ/Fa6xV27dFXOIYfE0di9XTymXcrcKL1eLzXrdbu/t9pi7nRnhv8jD3bPwsaoGOslpdCiMit+tDe2I3+Zjg4fEIPUUCM1zGubeHgOGIcJg/FSOTnBoJOfsSZ0TEazopKNFLnOeaucXebjP5rHVVdqqZ5t3TT2KYjlwcFCRAQE2NxNjdCAglAQbd2bR5WiIz14e15scP95VplVf6lVPOPl+VPnVH6VFXKfn+Fiq+ZpXXaVFnaYbfVhT957v8AaFQ5rV+rTHKGlyWn9Guec/KP7aiqtcIQSgIbCAghAQSmxuJsbrS1Gj7dhhj1C9h8nEgewhaTLqu1h6fDWGTzWjs4mrx0llNL2sQrPGiU7uFEfPhssLvku5XPL4xqoEoPRXZ/a+80ZZXVPdCGcTCJh/lUjIawxu7skd+/u3AZuGy34kLwxNXZs1z4S6cHR279uPGFOrKNp4ylAQE2NxNjdCAglAQENmf1EibNuh/aa9v4C78q7suq0xFMc9VfmtOuFqnlp81qLSMkrPtFP+MH/iZ/c9Z7NP8APHsj6tRk/wD159s/Rq6rlqlAQ2EBBCAglNjcTY3EG/8AZpHnCjQx6MRrvJ7ZfkV5lNX/AArp8dev4Z3O6NLlFXhp0/Lu9pNpEPRVqxY1n9V7Yf5lbKR56UAgvDsZtIdo0t/hx4jPeDYn/sUjLa/xtmxOBq97G+w7f5FX5nVpYmOcx5rPKKdcTE8omfp9VZLOtUICbG4mxuhAQSgICGwhszGpx/x0D+Z39jl14D/sUffqlxZjH/y3Pd84W2tOx7Dax6vwrU0T8MRo8LxfIcHDeMFyYrCUX448JjaXbg8dXhpnTjE7x9+tX+k9VrXBJ8BiN9aHN/tb9YeySpL2BvW57useH3q0VjMcPd2q0nlPD47MKbs1xu4QEEICCU2NxNjcQEG29m8eVoiM9eHPzY4f7irTKq/1Ko5x8lPnVGtmmrlPz/Du9sUUN0YW+vGhN9hL/wAivmaUYoBBb3YbGHcWpvqxWO99kvyKRlu0yP4YDOJe+XDZAA/uKp82q4UU+2V7klHG5X7I++jRFStAJsbibG6EBBKAgIbIUJZXRurtqjXthkN9d/gb5TvPkCuq1g713u08Oc8HHex1iz3q+PKOM/ftb9qzqtDs30jjtxZS2pSawGoaPnyV3hMDTY/5TOtTPY3Ma8R/xiNKeXm2JdyucSfagimJKDq2zRsCIPpYbHniWtJ8jULzrs26+9TEvW3fu2+5XMe9hbVqRY3XgPhn7DyR7HzXHXlliraJj2T56u+3m+Ip3mJ9seWjFx+z0VZHIwewH4gjkuerKY/bX1h1UZ3P77fSXQi6hWoXtfCcM3tPs2fmvCrKrsbVRLopzmxPepmOnm6UTU+3CkIOH2YkL5kLxnLsRH7dffD3pzTC1b16e6fJ1n6t20fuH+Wy7kV5zgr8fsl6xj8NVtch8HaGtQ/cRv6cT9F8Thr0b256S9IxdidrlPWHzOjo4/cxf6cT9F8+gueuiekvr09qdq46w4GyRR+7f7j/ANFHoq/XTPSX16Wj1VR1hmNThEh22ES1wBLmmbXAeJpAn5yXXgIqpv0zMTycWZdivDVxExrv8WT7aIbjYoLWtc4m0tJ2QXG6FF4br1pGSU5+xRv4cT3H/ooD9ijfw4nuP/RBZ/YhDe11rD2ubMQCNprmzkYvHNSO/wBoRe+1NAa4hkJouaTeS4mmGyqHNO1VdiIjaGlyfs02JmZjjLWRZIp/dv8Acf8Aoq70df8AGei19LR/KOsObdHxzSFFOUOJ+imLNz+E9JfM37X846w+jdEWo0gRv6cT9FMYe7P/AJz0l8zirH+ynrD7w9XLaaQInmA3mQvSMHfn9kvicfho/wDSHYhaoW43d1LFz4XycSvuMvxE/t+MPKrNMLG1fwnydyFqJazV0Jv3nuPwb817RlV6d5iHhVnOHjaJn3R5u/B7Pj6cfyYz5l3yXvTlP8q+kOerO4/bb6z/AEydm1GsbL395EPAu2R+AA/FdFGWWY31n3+WjlrzjETtpHu89WasWiLNBvZCY08Q0F3vG9ddvD2rfdpiHDdxV67365l3cT0Xs8Ei+8oJmgFBAEr96ABvPRAA3lAlOqBKeXNAN+XNAPBAPAIGAQKIFMSgASzQBxKAOJQJTqgVy5oBvy5oB4IB4BAwCBSiBKWJQAJZoAG8oAG89ECU7ygVyQckEICAgFBJQEBBAQAgIJQQgICAUAoJQEAIICAgICAgIJQQUEoIQf/Z"
	        };

			scope.save();

			expect(contactsLength).toBe(generalService.getContacts().length);
		});
	})

	it('$scope.backToList should redirect to contacts list screen',
		function(){
			scope.backToList();
			expect($location.path()).toEqual('/contacts');
	});	


})